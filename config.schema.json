{
    "pluginAlias": "PrometheusExporter",
    "pluginType": "platform",
    "singular": true,
    "schema": {
        "type": "object",
        "required": ["pin"],
        "properties": {
            "pin": {
                "title": "Pin",
                "description": "Homebridge PIN for service authentication",
                "type": "string",
                "pattern": "^\\d{3}-\\d{2}-\\d{3}$",
                "required": true
            },
            "debug": {
                "title": "Debug",
                "type": "boolean",
                "required": false,
                "default": false
            },
            "prefix": {
                "title": "Metrics prefix",
                "type": "string",
                "required": false,
                "default": "homebridge"
            },
            "port": {
                "title": "Probe server port",
                "description": "TCP port for the prometheus probe server to listen to",
                "type": "integer",
                "required": false,
                "default": 36123
            },
            "refresh_interval": {
                "title": "Service refresh interval",
                "description": "Discover new services every <interval> seconds",
                "type": "integer",
                "required": false,
                "default": 60
            },
            "request_timeout": {
                "title": "Request timeout",
                "description": "Request timeout when interacting with homebridge instances",
                "type": "integer",
                "required": false,
                "default": 10
            },
            "discovery_timeout": {
                "title": "Service discovery timeout",
                "description": "Discovery timeout after which the current discovery is considered failed",
                "type": "integer",
                "required": false,
                "default": 20
            }
        }
    }
}
